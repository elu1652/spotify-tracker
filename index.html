<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>My Spotify Profile</title>
        <style>
          body {
              font-family: Arial, sans-serif;
              background-color: #f4f4f4;
              margin: 0;
              padding: 0;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: flex-start;
              height: 100%;
              overflow-y: auto; /* Make the entire page scrollable */
          }
      
          h1 {
              color: #1DB954; /* Spotify Green */
              margin-bottom: 20px;
          }
      
          a {
              text-decoration: none;
              color: #1DB954;
              font-weight: bold;
              margin-top: 20px;
              display: inline-block;
          }
      
          #profile, #recently-played {
              background-color: white;
              border-radius: 8px;
              padding: 20px;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
              width: 80%;
              max-width: 600px;
              margin: 20px 0;
          }
      
          #profile h2, #recently-played h2 {
              color: #333;
              margin-bottom: 10px;
              font-size: 1.5em;
          }
      
          ul, ol {
              list-style-type: decimal; /* Make it an ordered list */
              padding: 0;
              margin: 0;
          }

      
          li {
              margin: 10px 0;
              font-size: 1.1em;
          }
      
          li span {
              font-weight: bold;
          }
      
          #avatar img {
              border-radius: 50%;
              width: 120px;
              height: 120px;
              margin-bottom: 10px;
          }
      
          #recentlyPlayedList li {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            border-bottom: 1px solid #ddd;
            position: relative;
            list-style-position: inside; /* Ensures the number appears inside the li */
            counter-increment: track-number; /* Increments the custom counter */
          }
      
          #recentlyPlayedList li img {
              width: 60px;
              height: 60px;
              margin-right: 20px;
              border-radius: 8px;
          }
      
          #recentlyPlayedList li strong {
              font-size: 1.2em;
              margin-right: 10px;
          }
      
          #recentlyPlayedList li .artist {
              font-size: 1em;
              color: #666;
              margin-top: 5px; /* Space between track and artist */
          }
      
          #recentlyPlayedList li .time-info {
              font-size: 0.8em;
              color: #999;
              position: absolute;
              bottom: 10px;
              right: 10px;
          }
      
          .back-button {
              font-size: 1.2em;
              margin-top: 30px;
          }
      
          /* Remove fixed height and overflow for the list */
          #recently-played {
              width: 100%;
          }
      
          #recentlyPlayedList {
              counter-reset: track-number; /* Resets the counter to start from 1 */
              padding-left: 0; /* Removes extra padding */
          }
      
          .track-info {
              display: flex;
              align-items: center;
              justify-content: space-between;
              width: 100%;
          }
      
          .track-info .count {
              font-size: 1.1em;
              color: #555;
              margin-left: 10px;
          }

          #recentlyPlayedList li::before {
              content: counter(track-number) ". "; /* Displays the number */
              font-weight: bold;
              font-size: 1.2em;
              margin-right: 10px; /* Adds space between the number and album cover */
              color: #1DB954; /* Optional: Spotify green for the number */
          }

          #searchBar {
              width: 80%;
              max-width: 400px;
              padding: 12px 15px;
              border: 2px solid #1DB954; /* Spotify Green */
              border-radius: 25px;
              outline: none;
              font-size: 1em;
              transition: all 0.3s ease;
              margin: 20px 0;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
          }

          #searchBar:focus {
              border-color: #1ed760;
              box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
          }

          ::placeholder {
              color: #999;
              font-style: italic;
          }

          @keyframes highlightFade {
              0% {
                  background-color: #1DB954; /* Spotify Green */
                  color: white;
              }
              100% {
                  background-color: transparent;
                  color: inherit;
              }
          }

          .highlight {
              animation: highlightFade 2s ease-in-out; /* Smooth fade effect */
              border-radius: 8px;
              padding: 5px;
              transition: background-color 0.5s ease;
          }

      </style>
      
      
        <script src="src/script.ts" type="module"></script>
    </head>
    <body>
      <div id="refreshTimer">Next refresh in: 5:00</div>
      <a href="http://localhost:5173" class="back-button">Go Back</a>
      <button id="reloginButton" style="display:none;">Re-login</button>  
      <h1>Display your Spotify Profile</h1>

      <section id="profile">
          <h2>Logged in as <span id="displayName"></span></h2>
          <span id="avatar"></span>
          <ul>
              <li>User ID: <span id="id"></span></li>
              <li>Email: <span id="email"></span></li>
              <li>Spotify URI: <a id="uri" href="#"></a></li>
              <li>Link: <a id="url" href="#"></a></li>
              <li>Profile Image: <span id="imgUrl"></span></li>
          </ul>
      </section>

      <input type="text" id="searchBar" placeholder="Search for a track..." autocomplete="off">



      <section id="recently-played">
          <h2>Recently Played Tracks</h2>
          <ol id="recentlyPlayedList"></ol>
      </section>
      <script src="/search.js"></script>
    </body>
</html>
